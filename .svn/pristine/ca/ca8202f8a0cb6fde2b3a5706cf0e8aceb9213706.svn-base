(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26409cbe"],{"0893":function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"h",(function(){return a})),r.d(t,"i",(function(){return o})),r.d(t,"g",(function(){return n})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return m})),r.d(t,"d",(function(){return c})),r.d(t,"e",(function(){return u})),r.d(t,"f",(function(){return d}));var l=r("b775");function i(e,t){return Object(l["a"])({url:"/operation/vehicleManage/queryVehicles",method:"post",data:e,params:t})}function a(e){return Object(l["a"])({url:"/operation/vehicleManage/saveVehicle",method:"post",data:e})}function o(e){return Object(l["a"])({url:"/operation/vehicleManage/updateVehicle",method:"post",data:e})}function n(e){return Object(l["a"])({url:"/operation/vehicleManage/queryWhetherVehicleIsBind",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/operation/vehicleManage/deleteVehicle",method:"post",data:e})}function m(e){return Object(l["a"])({url:"/operation/vehicleManage/DetectionVehicle",method:"post",data:e})}function c(){return Object(l["a"])({url:"/operation/vehicleManage/queryVehicleEnergyType",method:"get"})}function u(){return Object(l["a"])({url:"/operation/vehicleManage/queryVehiclePlateColor",method:"get"})}function d(){return Object(l["a"])({url:"/operation/vehicleManage/queryVehicleType",method:"get"})}},"365c":function(e,t,r){"use strict";r.d(t,"e",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n})),r.d(t,"c",(function(){return s}));var l=r("b775");function i(e){return Object(l["a"])({url:"/operation/file/uploadFile",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})}function a(e){return Object(l["a"])({url:"/operation/file/deleteFile",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}function o(e){return Object(l["a"])({url:"/operation/file/DLCardOCRAndUpload",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}function n(e){return Object(l["a"])({url:"/operation/file/IDCardOCRAndUpload",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}function s(e){return Object(l["a"])({url:"/operation/file/VDLCardOCRAndUpload",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}},"92b9":function(e,t,r){"use strict";r.r(t);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px",inline:""}},[r("div",{staticClass:"mb20"},[r("el-divider",{attrs:{"content-position":"left"}},[r("span",{staticClass:"weight"},[e._v("基础信息")])])],1),r("el-form-item",{attrs:{label:"车牌号",prop:"vehicleNumber"}},[r("el-input",{attrs:{disabled:"",clearable:""},model:{value:e.form.vehicleNumber,callback:function(t){e.$set(e.form,"vehicleNumber",t)},expression:"form.vehicleNumber"}})],1),r("el-form-item",{attrs:{label:"车牌颜色",prop:"vehicleColor"}},[r("el-select",{attrs:{size:"small mr5",placeholder:"请选择车牌颜色"},model:{value:e.form.vehicleColor,callback:function(t){e.$set(e.form,"vehicleColor",t)},expression:"form.vehicleColor"}},e._l(e.vehicleColor_Data,(function(e,t){return r("el-option",{key:t,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),r("el-form-item",{attrs:{label:"外廓尺寸(mm)",prop:"vehicleSize"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.vehicleSize,callback:function(t){e.$set(e.form,"vehicleSize",t)},expression:"form.vehicleSize"}})],1),r("el-form-item",{attrs:{label:"车辆总质量类型",prop:"qualityType"}},[r("el-select",{attrs:{size:"small mr5",placeholder:"选择总质量类型"},model:{value:e.form.qualityType,callback:function(t){e.$set(e.form,"qualityType",t)},expression:"form.qualityType"}},[r("el-option",{attrs:{label:"4.5吨及以下",value:0}}),r("el-option",{attrs:{label:"4.5吨以上",value:1}})],1)],1),r("el-form-item",{attrs:{label:"整备质量(kg)",prop:"tonnage"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.tonnage,callback:function(t){e.$set(e.form,"tonnage",t)},expression:"form.tonnage"}})],1),r("el-form-item",{attrs:{label:"核定载质量(kg)",prop:"hzdQuality"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.hzdQuality,callback:function(t){e.$set(e.form,"hzdQuality",t)},expression:"form.hzdQuality"}})],1),r("el-form-item",{attrs:{label:"车辆分类",prop:"vehicleType"}},[r("el-select",{attrs:{size:"small mr5",placeholder:"请选择车辆分类"},model:{value:e.form.vehicleType,callback:function(t){e.$set(e.form,"vehicleType",t)},expression:"form.vehicleType"}},e._l(e.vehicleType_Data,(function(e,t){return r("el-option",{key:t,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),r("el-form-item",{attrs:{label:"牌照类型",prop:"vehicleNumberType"}},[r("el-select",{attrs:{size:"small mr5",placeholder:"选择牌照类型"},model:{value:e.form.vehicleNumberType,callback:function(t){e.$set(e.form,"vehicleNumberType",t)},expression:"form.vehicleNumberType"}},[r("el-option",{attrs:{label:"大型汽车号牌",value:0}}),r("el-option",{attrs:{label:"小型汽车号牌",value:1}}),r("el-option",{attrs:{label:"其他号牌",value:2}})],1)],1),r("el-form-item",{attrs:{label:"车辆所有人",prop:"master"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.master,callback:function(t){e.$set(e.form,"master",t)},expression:"form.master"}})],1),r("el-form-item",{attrs:{label:"车辆识别代码",prop:"vehicleCode"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.vehicleCode,callback:function(t){e.$set(e.form,"vehicleCode",t)},expression:"form.vehicleCode"}})],1),r("el-form-item",{attrs:{label:"车轴数(含悬浮轴)",prop:"axleAmount"}},[r("el-select",{attrs:{size:"small mr5",placeholder:"请选择车轴数"},model:{value:e.form.axleAmount,callback:function(t){e.$set(e.form,"axleAmount",t)},expression:"form.axleAmount"}},[r("el-option",{attrs:{label:"二轴",value:0}}),r("el-option",{attrs:{label:"三轴",value:1}}),r("el-option",{attrs:{label:"四轴",value:2}}),r("el-option",{attrs:{label:"五轴",value:3}}),r("el-option",{attrs:{label:"六轴",value:4}}),r("el-option",{attrs:{label:"六轴以上",value:5}})],1)],1),r("el-form-item",{attrs:{label:"使用性质",prop:"nature"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.nature,callback:function(t){e.$set(e.form,"nature",t)},expression:"form.nature"}})],1),r("el-form-item",{attrs:{label:"能源类型",prop:"energyType"}},[r("el-select",{attrs:{size:"small mr5",placeholder:"请选择能源类型"},model:{value:e.form.energyType,callback:function(t){e.$set(e.form,"energyType",t)},expression:"form.energyType"}},e._l(e.energyType_Data,(function(e,t){return r("el-option",{key:t,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),r("div",{staticClass:"mb20"},[r("el-divider",{attrs:{"content-position":"left"}},[r("span",{staticClass:"weight"},[e._v("证照信息")])])],1),r("el-form-item",{attrs:{label:"车辆行驶证档案编号",prop:"licenseNumber"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.licenseNumber,callback:function(t){e.$set(e.form,"licenseNumber",t)},expression:"form.licenseNumber"}})],1),r("el-form-item",{attrs:{label:"行驶证发证机关",prop:"licenseAward"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.licenseAward,callback:function(t){e.$set(e.form,"licenseAward",t)},expression:"form.licenseAward"}})],1),r("el-form-item",{attrs:{label:"车辆行驶证注册日期",prop:"licenseLoginTime"}},[r("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.licenseLoginTime,callback:function(t){e.$set(e.form,"licenseLoginTime",t)},expression:"form.licenseLoginTime"}})],1),r("el-form-item",{attrs:{label:"行驶证发证日期",prop:"licenseAwardTime"}},[r("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.licenseAwardTime,callback:function(t){e.$set(e.form,"licenseAwardTime",t)},expression:"form.licenseAwardTime"}})],1),r("el-form-item",{attrs:{label:"行驶证到期日期",prop:"licenseExpirationTime"}},[r("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.licenseExpirationTime,callback:function(t){e.$set(e.form,"licenseExpirationTime",t)},expression:"form.licenseExpirationTime"}})],1),r("el-form-item",{attrs:{label:"道路运输证字号",prop:"dlysNumber"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.dlysNumber,callback:function(t){e.$set(e.form,"dlysNumber",t)},expression:"form.dlysNumber"}})],1),r("el-form-item",{attrs:{label:"道路运输证到期日期",prop:"dlysExpirationTime"}},[r("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.dlysExpirationTime,callback:function(t){e.$set(e.form,"dlysExpirationTime",t)},expression:"form.dlysExpirationTime"}})],1),r("div",{staticClass:"mb20"},[r("el-divider",{attrs:{"content-position":"left"}},[r("span",{staticClass:"weight"},[e._v("业户信息")])])],1),r("el-form-item",{attrs:{label:"业户名称",prop:"yhName"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.yhName,callback:function(t){e.$set(e.form,"yhName",t)},expression:"form.yhName"}})],1),r("el-form-item",{attrs:{label:"业户类型",prop:"yhType"}},[r("el-select",{attrs:{placeholder:"请选择业户类型"},model:{value:e.form.yhType,callback:function(t){e.$set(e.form,"yhType",t)},expression:"form.yhType"}},[r("el-option",{attrs:{label:"企业",value:1}}),r("el-option",{attrs:{label:"个体",value:0}})],1)],1),r("el-form-item",{attrs:{label:"业户社会信用代码 / 身份证",prop:"yhIdCard","label-width":"200px"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.yhIdCard,callback:function(t){e.$set(e.form,"yhIdCard",t)},expression:"form.yhIdCard"}})],1),r("el-form-item",{attrs:{label:"经营许可证号",prop:"businessCertificate"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.businessCertificate,callback:function(t){e.$set(e.form,"businessCertificate",t)},expression:"form.businessCertificate"}})],1),r("el-form-item",{attrs:{label:"所属辖区",prop:"belongingTo"}},[r("el-input",{attrs:{clearable:""},model:{value:e.form.belongingTo,callback:function(t){e.$set(e.form,"belongingTo",t)},expression:"form.belongingTo"}})],1),r("div",{staticClass:"mb20"},[r("el-divider",{attrs:{"content-position":"left"}},[r("span",{staticClass:"weight"},[e._v("证件照片列表")])])],1),r("div",{staticClass:"imgdiv"},[r("div",{staticClass:"liemg"},[r("div",{staticClass:"imgBox"},e._l(e.urls,(function(t,l){return r("div",{key:l,staticClass:"youshang"},[r("el-image",{staticClass:"imgs",attrs:{src:t.url,lazy:""},on:{click:function(t){return e.getImg(l)}}}),r("div",{staticClass:"biatwcss"},[e._v(e._s(t.name))])],1)})),0)]),r("div",{staticClass:"xianshu"},[r("el-carousel",{ref:"slideCarousel",attrs:{height:"560px","indicator-position":"none",arrow:"always",autoplay:!1}},e._l(e.urls,(function(t,l){return r("el-carousel-item",{key:l},[r("div",{staticStyle:{width:"100%"}},[r("el-image",{staticStyle:{width:"100%",height:"500px"},attrs:{fit:"contain",src:t.url}}),r("div",{staticClass:"textmiaos"},[e._v(e._s(t.name))]),r("div",{staticClass:"annscc"},[r("div",{staticStyle:{flex:"1"}}),r("div",{staticStyle:{"margin-right":"306px",display:"flex"}},[r("el-upload",{attrs:{action:"","show-file-list":!1,"file-list":e.fileList,"http-request":e.uploadSectionFile}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadIMG(l)}}},[e._v("重新上传")])],1),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger"},on:{click:function(t){return e.disappearIMG(l)}}},[e._v("删除图片")])],1)])],1)])})),1)],1)]),r("el-divider",{attrs:{"content-position":"left"}}),r("el-form-item",{attrs:{label:"审核结果",prop:"auditStatus"}},[r("el-radio-group",{model:{value:e.form.auditStatus,callback:function(t){e.$set(e.form,"auditStatus",t)},expression:"form.auditStatus"}},[r("el-radio",{attrs:{label:0}},[e._v("待审核")]),r("el-radio",{attrs:{label:1}},[e._v("审核通过")]),r("el-radio",{attrs:{label:2}},[e._v("审核不通过")])],1)],1),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.form.auditStatus,expression:"form.auditStatus == 2"}],attrs:{label:"审核意见"}},[r("el-input",{staticStyle:{"min-width":"330px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入审核意见"},model:{value:e.form.notGoCause,callback:function(t){e.$set(e.form,"notGoCause",t)},expression:"form.notGoCause"}})],1),r("div",[r("el-form-item",{attrs:{label:" "}},[r("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.updateVehicle()}}},[e._v("提交")])],1)],1)],1)],1)},i=[],a=(r("a434"),r("159b"),r("0893")),o=r("365c"),n={data:function(){return{form:{vehicleId:"",vehicleNumber:"",vehicleColor:"",vehicleSize:"",qualityType:"",tonnage:"",hzdQuality:"",vehicleType:"",vehicleNumberType:"",master:"",vehicleCode:"",axleAmount:"",nature:"",energyType:"",licenseNumber:"",licenseAward:"",licenseLoginTime:"",licenseAwardTime:"",licenseExpirationTime:"",dlysNumber:"",dlysExpirationTime:"",yhName:"",yhType:"",businessCertificate:"",belongingTo:"",auditStatus:"",notGoCause:"",drivingFront:"",drivingReverse:"",annualRecord:"",dlysFront:"",dlysReverse:"",rchz:""},energyType_Data:[],vehicleColor_Data:[],vehicleType_Data:[],urls:[],fileList:[],imgURL:[],imgKey:{value:"",key:""},rules:{xxx:[{required:!0,message:"不能为空"}]}}},mounted:function(){this.form.vehicleId=this.$route.query.vehicleId,this.queryVehicleEnergyType(),this.queryVehiclePlateColor(),this.queryVehicleType(),this.queryDriverById()},methods:{uploadSectionFile:function(e){var t=this,r=e.file,l=r.size/1024/1024<6;if(l){var i=new FormData;i.append("file",r),Object(o["c"])(i).then((function(e){200==e.code&&(t.imgURL.push(t.urls[t.imgKey.key].url),t.urls[t.imgKey.key].url=e.data.fileUrl,t.form[t.imgKey.value]=e.data.fileUrl,"drivingFront"==t.imgKey.value?(t.form.master=data.drivingFront.info_Positive.owner,t.form.vehicleNumber=data.drivingFront.info_Positive.carNumber,t.form.licenseAwardTime=data.drivingFront.info_Positive.issue_date,t.form.licenseLoginTime=data.drivingFront.info_Positive.register_date):"drivingReverse"==t.imgKey.value&&(t.form.vehicleSize=data.drivingReverse.info_negative.overall_dimension,t.form.hzdQuality=data.drivingReverse.info_negative.load_weight,t.form.tonnage=data.drivingReverse.info_negative.curb_weight))}))}else this.$message.error("上传图片大小不能超过 6MB!")},uploadIMG:function(e){this.imgKey.value=this.urls[e].value,this.imgKey.key=e},disappearIMG:function(e){this.imgURL.push(this.urls[e].url),this.urls.splice(e,1)},getImg:function(e){this.$refs.slideCarousel.setActiveItem(e)},queryDriverById:function(){var e=this;Object(a["c"])({vehicleId:this.form.vehicleId}).then((function(t){var r,l,i,a,o,n;200==t.code&&(e.form.vehicleNumber=t.rows[0].vehicleNumber,e.form.vehicleColor=t.rows[0].vehicleColor,e.form.vehicleSize=t.rows[0].vehicleSize,e.form.qualityType=t.rows[0].qualityType,e.form.tonnage=t.rows[0].tonnage,e.form.hzdQuality=t.rows[0].hzdQuality,e.form.vehicleType=t.rows[0].vehicleType,e.form.vehicleNumberType=t.rows[0].vehicleNumberType,e.form.master=t.rows[0].master,e.form.vehicleCode=t.rows[0].vehicleCode,e.form.axleAmount=t.rows[0].axleAmount,e.form.nature=t.rows[0].nature,e.form.energyType=t.rows[0].energyType,e.form.licenseNumber=t.rows[0].licenseNumber,e.form.licenseAward=t.rows[0].licenseAward,e.form.licenseLoginTime=t.rows[0].licenseLoginTime,e.form.licenseAwardTime=t.rows[0].licenseAwardTime,e.form.licenseExpirationTime=t.rows[0].licenseExpirationTime,e.form.dlysNumber=t.rows[0].dlysNumber,e.form.dlysExpirationTime=t.rows[0].dlysExpirationTime,e.form.yhName=t.rows[0].yhName,e.form.yhType=t.rows[0].yhType,e.form.businessCertificate=t.rows[0].businessCertificate,e.form.belongingTo=t.rows[0].belongingTo,e.form.auditStatus=t.rows[0].auditStatus,e.form.notGoCause=t.rows[0].notGoCause,e.form.drivingFront=t.rows[0].drivingFront,e.form.drivingReverse=t.rows[0].drivingReverse,e.form.annualRecord=t.rows[0].annualRecord,e.form.dlysFront=t.rows[0].dlysFront,e.form.dlysReverse=t.rows[0].dlysReverse,e.form.rchz=t.rows[0].rchz,null!==(r=e.form)&&void 0!==r&&r.drivingFront&&e.urls.push({name:"行驶证正本",value:"drivingFront",url:e.form.drivingFront}),null!==(l=e.form)&&void 0!==l&&l.drivingReverse&&e.urls.push({name:"行驶证副本",value:"drivingReverse",url:e.form.drivingReverse}),null!==(i=e.form)&&void 0!==i&&i.annualRecord&&e.urls.push({name:"最新年检信息",value:"annualRecord",url:e.form.annualRecord}),null!==(a=e.form)&&void 0!==a&&a.dlysFront&&e.urls.push({name:"道路运输证正页",value:"dlysFront",url:e.form.dlysFront}),null!==(o=e.form)&&void 0!==o&&o.dlysReverse&&e.urls.push({name:"道路运输证副页",value:"dlysReverse",url:e.form.dlysReverse}),null!==(n=e.form)&&void 0!==n&&n.rchz&&e.urls.push({name:"人车合照",value:"rchz",url:e.form.rchz}))}))},queryVehicleEnergyType:function(){var e=this;Object(a["d"])().then((function(t){200==t.code&&(e.energyType_Data=t.data)}))},queryVehiclePlateColor:function(){var e=this;Object(a["e"])().then((function(t){200==t.code&&(e.vehicleColor_Data=t.data)}))},queryVehicleType:function(){var e=this;Object(a["f"])().then((function(t){200==t.code&&(e.vehicleType_Data=t.data)}))},updateVehicle:function(){var e=this;2!=this.form.auditStatus||""!=this.form.notGoCause?this.$refs.form.validate((function(t){if(t){var r={vehicleId:e.form.vehicleId,vehicleNumber:e.form.vehicleNumber,vehicleColor:e.form.vehicleColor,vehicleSize:e.form.vehicleSize,qualityType:e.form.qualityType,tonnage:e.form.tonnage,hzdQuality:e.form.hzdQuality,vehicleType:e.form.vehicleType,vehicleNumberType:e.form.vehicleNumberType,master:e.form.master,vehicleCode:e.form.vehicleCode,axleAmount:e.form.axleAmount,nature:e.form.nature,energyType:e.form.energyType,licenseNumber:e.form.licenseNumber,licenseAward:e.form.licenseAward,licenseLoginTime:e.form.licenseLoginTime,licenseAwardTime:e.form.licenseAwardTime,licenseExpirationTime:e.form.licenseExpirationTime,dlysNumber:e.form.dlysNumber,dlysExpirationTime:e.form.dlysExpirationTime,yhName:e.form.yhName,yhType:e.form.yhType,businessCertificate:e.form.businessCertificate,belongingTo:e.form.belongingTo,auditStatus:e.form.auditStatus,notGoCause:e.form.notGoCause,drivingFront:e.form.drivingFront,drivingReverse:e.form.drivingReverse,annualRecord:e.form.annualRecord,dlysFront:e.form.dlysFront,dlysReverse:e.form.dlysReverse,rchz:e.form.rchz};Object(a["i"])(r).then((function(t){200==t.code&&(e.deleteIMG(),e.$message({message:"保存成功",type:"success",duration:3e3}),e.$router.push({path:"/member/car/index"}))}))}})):this.$message({message:"请填写审核意见",type:"warning",duration:2e3})},deleteIMG:function(){this.imgURL.forEach((function(e){Object(o["d"])({filePath:e})}))}}},s=n,m=(r("93cc"),r("2877")),c=Object(m["a"])(s,l,i,!1,null,"121de9a1",null);t["default"]=c.exports},"93cc":function(e,t,r){"use strict";r("c5cd")},c5cd:function(e,t,r){}}]);