(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74a7b925"],{"69c1":function(t,e,a){},"97c8":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return r}));var l=a("b775");function i(t,e){return Object(l["a"])({url:"/operation/paymentAudit/queryPayments",method:"post",data:t,params:e})}function o(t){return Object(l["a"])({url:"/operation/paymentAudit/queryPaymentById",method:"post",data:t})}function n(t){return Object(l["a"])({url:"/operation/paymentAudit/paymentAudit",method:"post",data:t})}function r(t,e){return Object(l["a"])({url:"/operation/paymentAudit/queryPaymentRecord",method:"post",data:t,params:e})}},bcbd:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"mb20 flex transposition justify-end"},[a("el-select",{staticClass:"mr5",model:{value:t.conditions_value,callback:function(e){t.conditions_value=e},expression:"conditions_value"}},[a("el-option",{attrs:{value:1,label:"车船号"}}),a("el-option",{attrs:{value:2,label:"运单编号"}}),a("el-option",{attrs:{value:3,label:"托运人"}}),a("el-option",{attrs:{value:4,label:"货物名称"}}),a("el-option",{attrs:{value:5,label:"申请单编号"}})],1),a("el-input",{staticClass:"search mr5",attrs:{placeholder:"请输入对应的条件",clearable:""},model:{value:t.numberData,callback:function(e){t.numberData=e},expression:"numberData"}}),a("el-select",{staticClass:"mr5",model:{value:t.time_value,callback:function(e){t.time_value=e},expression:"time_value"}},[a("el-option",{attrs:{value:1,label:"申请时间"}}),a("el-option",{attrs:{value:2,label:"运单创建时间"}})],1),a("el-date-picker",{staticClass:"mr5",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择起始日期"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),a("el-date-picker",{staticClass:"mr5",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择结束日期"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("查询")]),a("el-button",{attrs:{type:"danger"},on:{click:t.empty}},[t._v("清空")])],1),a("div",{staticClass:"mb20 flex transposition justify-end"},[a("el-select",{staticClass:"search mr5",attrs:{placeholder:"托运人审核状态"},model:{value:t.auditStatus,callback:function(e){t.auditStatus=e},expression:"auditStatus"}},[a("el-option",{attrs:{value:0,label:"内部审核中"}}),a("el-option",{attrs:{value:1,label:"平台审核中"}}),a("el-option",{attrs:{value:2,label:"财务打款中"}}),a("el-option",{attrs:{value:3,label:"内部审核未通过"}}),a("el-option",{attrs:{value:4,label:"平台审核未通过"}}),a("el-option",{attrs:{value:5,label:"交易失败"}}),a("el-option",{attrs:{value:6,label:"交易成功"}}),a("el-option",{attrs:{value:7,label:"扣款成功"}}),a("el-option",{attrs:{value:8,label:"扣款失败"}}),a("el-option",{attrs:{value:9,label:"平台审核通过"}})],1),a("el-select",{staticClass:"search mr5",attrs:{placeholder:"运单状态"},model:{value:t.carriageState,callback:function(e){t.carriageState=e},expression:"carriageState"}},[a("el-option",{attrs:{value:0,label:"草稿"}}),a("el-option",{attrs:{value:1,label:"已提交"}}),a("el-option",{attrs:{value:2,label:"已分配承运人"}}),a("el-option",{attrs:{value:3,label:"已接单"}}),a("el-option",{attrs:{value:4,label:"提货中"}}),a("el-option",{attrs:{value:5,label:"发车中"}}),a("el-option",{attrs:{value:6,label:"已到达"}}),a("el-option",{attrs:{value:7,label:"卸货中"}}),a("el-option",{attrs:{value:8,label:"已签收"}}),a("el-option",{attrs:{value:9,label:"已作废"}})],1),a("el-select",{staticClass:"search mr5",attrs:{placeholder:"承运人合同状态"},model:{value:t.driverContractState,callback:function(e){t.driverContractState=e},expression:"driverContractState"}},[a("el-option",{attrs:{value:0,label:"未签署"}}),a("el-option",{attrs:{value:1,label:"签署成功"}}),a("el-option",{attrs:{value:2,label:"签署失败"}})],1),a("el-select",{staticClass:"search mr5",attrs:{placeholder:"托运人合同状态"},model:{value:t.clientContractState,callback:function(e){t.clientContractState=e},expression:"clientContractState"}},[a("el-option",{attrs:{value:0,label:"未签署"}}),a("el-option",{attrs:{value:1,label:"签署成功"}}),a("el-option",{attrs:{value:2,label:"签署失败"}})],1)],1),a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.audit}},[t._v("审核付款订单")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{prop:"payApplyCode",label:"付款申请编号"}}),a("el-table-column",{attrs:{prop:"chauffeurMoney",label:"结算运费"}}),a("el-table-column",{staticClass:"red",attrs:{prop:"anotherPayeeMoney",label:"第二收款人收款金额"}}),a("el-table-column",{attrs:{prop:"chauffeurMoney",label:"支付司机金额"}}),a("el-table-column",{attrs:{prop:"payType",label:"支付类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.payType?a("span",[t._v("预付款")]):1==e.row.payType?a("span",[t._v("到付款")]):2==e.row.payType?a("span",[t._v("回单尾款")]):3==e.row.payType?a("span",[t._v("定金")]):4==e.row.payType?a("span",[t._v("起航费")]):5==e.row.payType?a("span",[t._v("抵港费")]):6==e.row.payType?a("span",[t._v("尾款")]):7==e.row.payType?a("span",[t._v("港建费")]):8==e.row.payType?a("span",[t._v("其他")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"internalAudit",label:"内部支付状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.internalAudit?a("span",[t._v("平台审核中")]):1==e.row.internalAudit?a("span",[t._v("平台审核不通过")]):2==e.row.internalAudit?a("span",[t._v("打款中")]):3==e.row.internalAudit?a("span",[t._v("打款成功")]):4==e.row.internalAudit?a("span",[t._v("打款失败")]):5==e.row.internalAudit?a("span",[t._v("财务退回")]):6==e.row.internalAudit?a("span",[t._v("已线下打款")]):7==e.row.internalAudit?a("span",[t._v("交易关闭")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"auditStatus",label:"托运人审核状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.auditStatus?a("span",[t._v("内部审核中")]):1==e.row.auditStatus?a("span",[t._v("平台审核中")]):2==e.row.auditStatus?a("span",[t._v("打款中")]):3==e.row.auditStatus?a("span",[t._v("内部审核未通过")]):4==e.row.auditStatus?a("span",[t._v("平台审核未通过")]):5==e.row.auditStatus?a("span",[t._v("交易失败")]):6==e.row.auditStatus?a("span",[t._v("交易成功")]):7==e.row.auditStatus?a("span",[t._v("扣款成功")]):8==e.row.auditStatus?a("span",[t._v("扣款失败")]):9==e.row.auditStatus?a("span",[t._v("平台审核通过")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"carriageCreateTime",label:"付款申请时间"}}),a("el-table-column",{attrs:{prop:"carriageCode",label:"运单号"}}),a("el-table-column",{attrs:{prop:"carriageState",label:"运单状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.carriageState?a("span",[t._v("草稿")]):1==e.row.carriageState?a("span",[t._v("已提交")]):2==e.row.carriageState?a("span",[t._v("已分配承运人")]):3==e.row.carriageState?a("span",[t._v("已接单")]):4==e.row.carriageState?a("span",[t._v("提货中")]):5==e.row.carriageState?a("span",[t._v("发车中")]):6==e.row.carriageState?a("span",[t._v("已到达")]):7==e.row.carriageState?a("span",[t._v("卸货中")]):8==e.row.carriageState?a("span",[t._v("已签收")]):9==e.row.carriageState?a("span",[t._v("已作废")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"shipperFullName",label:"托运人全称"}}),a("el-table-column",{attrs:{prop:"goodsName",label:"货物名称"}}),a("el-table-column",{attrs:{prop:"kaihuName",label:"第二收款人"}}),a("el-table-column",{attrs:{prop:"accountBank",label:"承运司机账户"}}),a("el-table-column",{attrs:{prop:"payeeName",label:"司机"}}),a("el-table-column",{attrs:{prop:"vehicleNumber",label:"车船牌号"}}),a("el-table-column",{attrs:{prop:"planPickTime",label:"计划装货时间"}}),a("el-table-column",{attrs:{prop:"arriveTime",label:"实际提货时间"}}),a("el-table-column",{attrs:{prop:"planArrivalTime",label:"计划到货时间"}}),a("el-table-column",{attrs:{prop:"demountTime",label:"实际到货时间"}}),a("el-table-column",{attrs:{prop:"carriageCreateTime",label:"运单创建时间"}}),a("el-table-column",{attrs:{prop:"auditTime",label:"审核时间"}}),a("el-table-column",{attrs:{prop:"remake",label:"备注"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"operate mr10",staticStyle:{color:"#409eff"},on:{click:function(a){return t.goinfo(e.row,1)}}},[t._v("审核")]),a("span",{staticClass:"operate mr10",staticStyle:{color:"#67c23a"},on:{click:function(a){return t.goinfo(e.row,2)}}},[t._v("详情")])]}}])})],1),a("div",{staticClass:"paging_css"},[a("Pagination",{attrs:{total:t.total,page:t.pageNum,limit:t.pageSize},on:{pagination:t.pagination}})],1),a("el-dialog",{attrs:{title:"审核",visible:t.dialogVisible1,width:"50%",center:""},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-select",{staticClass:"mr5",attrs:{placeholder:"选择审核状态"},model:{value:t.form.auditState,callback:function(e){t.$set(t.form,"auditState",e)},expression:"form.auditState"}},[a("el-option",{attrs:{label:"审核通过",value:0}}),a("el-option",{attrs:{label:"审核不通过",value:1}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.form.auditState,expression:"form.auditState == 1"}],staticStyle:{"margin-bottom":"20px"}},[a("el-input",{staticStyle:{"min-width":"330px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入审核意见"},model:{value:t.form.checkRemake,callback:function(e){t.$set(t.form,"checkRemake",e)},expression:"form.checkRemake"}})],1),a("div",{staticClass:"biaotk"},[t._v("确认将以下数据进行审核操作？")]),a("div",{staticClass:"shengmiaos",staticStyle:{"margin-bottom":"20px"}},t._l(t.multipleSelection,(function(e,l){return a("div",{key:l,staticStyle:{"font-size":"24px",color:"#409eff"}},[t._v(" "+t._s(e)+" ")])})),0),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.paymentAuditPL}},[t._v("确 定")])],1)])],1)},i=[],o=(a("a9e3"),a("d81d"),a("333d")),n=a("97c8"),r={components:{Pagination:o["a"]},data:function(){return{tableData:[],conditions_value:1,conditions_data:"vehicleNumber",numberData:"",time_value:1,time_dataA:"financePaymentCreateTime",time_dataB:"financePaymentEndTime",startTime:"",endTime:"",auditStatus:"",carriageState:"",driverContractState:"",clientContractState:"",pageSize:10,pageNum:1,total:0,multipleSelection:[],dialogVisible1:!1,form:{checkRemake:"",auditState:0,payApplyCodes:[]}}},watch:{conditions_value:function(t){switch(Number(t)){case 1:this.conditions_data="vehicleNumber";break;case 2:this.conditions_data="carriageCode";break;case 3:this.conditions_data="shipperFullName";break;case 4:this.conditions_data="vehicleNumber";break;case 5:this.conditions_data="payApplyCode";break}},time_value:function(t){switch(Number(t)){case 1:this.time_dataA="financePaymentCreateTime",this.time_dataB="financePaymentEndTime";break;case 2:this.time_dataA="carriageCreateTime",this.time_dataB="carriageEndTime";break}}},mounted:function(){this.getList()},methods:{paymentAuditPL:function(){var t=this;1!=this.form.auditState||""!=this.form.checkRemake?Object(n["b"])({auditState:this.form.auditState,checkRemake:this.form.checkRemake,payApplyCodes:String(this.multipleSelection)}).then((function(e){200==e.code&&(t.form.auditState=0,t.form.checkRemake="",t.dialogVisible1=!1,t.getList(),t.$message({message:"通过成功",type:"success",duration:3e3}))})):this.$message({message:"请填写审核意见",type:"warning",duration:2e3})},goinfo:function(t,e){this.$router.push({path:"/business/payment/info",query:{payApplyCode:t.payApplyCode,key:e}})},audit:function(){this.multipleSelection.length<=0?this.$message({message:"请勾选需要操作的数据",type:"warning",duration:2e3}):this.dialogVisible1=!0},handleSelectionChange:function(t){this.multipleSelection=t.map((function(t){return t.payApplyCode}))},empty:function(){this.auditStatus="",this.carriageState="",this.driverContractState="",this.clientContractState="",this.numberData="",this.startTime="",this.endTime="",this.pageSize=10,this.pageNum=1,this.getList()},query:function(){this.pageNum=1,this.getList()},pagination:function(t){this.pageSize=t.limit,this.pageNum=t.page,this.getList()},getList:function(){var t=this,e={auditStatus:this.auditStatus,carriageState:this.carriageState,driverContractState:this.driverContractState,clientContractState:this.clientContractState};e[this.conditions_data]=this.numberData,e[this.time_dataA]=this.startTime,e[this.time_dataB]=this.endTime,Object(n["a"])(e,{pageSize:this.pageSize,pageNum:this.pageNum}).then((function(e){200==e.code&&(t.tableData=e.rows,t.total=e.total)}))}}},s=r,c=(a("e656"),a("2877")),u=Object(c["a"])(s,l,i,!1,null,"0b4d5b6c",null);e["default"]=u.exports},e656:function(t,e,a){"use strict";a("69c1")}}]);