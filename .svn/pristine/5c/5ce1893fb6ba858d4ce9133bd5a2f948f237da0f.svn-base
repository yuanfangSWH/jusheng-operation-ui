(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-faa84d98"],{"1bf1":function(t,e,a){"use strict";a("38bf")},"38bf":function(t,e,a){},"54fb":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return r}));var l=a("b775");function i(t,e){return Object(l["a"])({url:"/operation/carriageAudit/queryCarriages",method:"post",data:t,params:e})}function r(t){return Object(l["a"])({url:"/operation/carriageAudit/carriageAudit",method:"post",data:t})}},a27f:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"mb20 flex transposition justify-end"},[a("el-select",{staticClass:"mr5",model:{value:t.conditions_value,callback:function(e){t.conditions_value=e},expression:"conditions_value"}},t._l(t.conditions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-input",{staticClass:"search mr5",attrs:{placeholder:"请输入对应的条件",clearable:""},model:{value:t.numberData,callback:function(e){t.numberData=e},expression:"numberData"}}),a("el-select",{staticClass:"mr5",model:{value:t.time_value,callback:function(e){t.time_value=e},expression:"time_value"}},t._l(t.timeData,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-date-picker",{staticClass:"mr5",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择起始日期"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),a("el-date-picker",{staticClass:"mr5",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择结束日期"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("查询")]),a("el-button",{attrs:{type:"danger"},on:{click:t.empty}},[t._v("清空")])],1),a("div",{staticClass:"mb20 flex transposition justify-end"},[a("el-select",{staticClass:"search mr5",attrs:{placeholder:"选择审核状态",clearable:""},model:{value:t.checkState,callback:function(e){t.checkState=e},expression:"checkState"}},[a("el-option",{attrs:{value:0,label:"待审核"}}),a("el-option",{attrs:{value:1,label:"审核中"}}),a("el-option",{attrs:{value:2,label:"审核通过"}}),a("el-option",{attrs:{value:3,label:"审核不通过"}})],1),a("el-select",{staticClass:"search mr5",attrs:{placeholder:"选择运单状态"},model:{value:t.carriageState,callback:function(e){t.carriageState=e},expression:"carriageState"}},[a("el-option",{attrs:{value:0,label:"草稿"}}),a("el-option",{attrs:{value:1,label:"已提交"}}),a("el-option",{attrs:{value:2,label:"已分配承运人"}}),a("el-option",{attrs:{value:3,label:"已接单"}}),a("el-option",{attrs:{value:4,label:"提货中"}}),a("el-option",{attrs:{value:5,label:"发车中"}}),a("el-option",{attrs:{value:6,label:"已到达"}}),a("el-option",{attrs:{value:7,label:"卸货中"}}),a("el-option",{attrs:{value:8,label:"已签收"}}),a("el-option",{attrs:{value:9,label:"已作废"}})],1),a("el-select",{staticClass:"search mr5",attrs:{placeholder:"选择支付状态"},model:{value:t.payState,callback:function(e){t.payState=e},expression:"payState"}},[a("el-option",{attrs:{value:0,label:"未付款"}}),a("el-option",{attrs:{value:1,label:"部分付款"}}),a("el-option",{attrs:{value:2,label:"已结清"}})],1)],1),a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.audit()}}},[t._v("审核")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection"}}),a("el-table-column",{attrs:{label:"序号",type:"index"}}),a("el-table-column",{attrs:{prop:"carriageId",label:"运单号",width:"250"}}),a("el-table-column",{attrs:{prop:"payeeName",label:"司机姓名"}}),a("el-table-column",{attrs:{prop:"vehicleNumber",label:"车牌号"}}),a("el-table-column",{attrs:{prop:"planPickTime",label:"计划提货时间",width:"230"}}),a("el-table-column",{attrs:{prop:"arriveTime",label:"实际提货时间",width:"150"}}),a("el-table-column",{attrs:{prop:"ifInvoice",label:"是否开票"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.ifInvoice?a("span",[t._v("不开")]):1==e.row.ifInvoice?a("span",[t._v("开")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"transportType",label:"运输方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.transportType?a("span",[t._v("陆运")]):1==e.row.transportType?a("span",[t._v("水运")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"carriageState",label:"运单状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.carriageState?a("span",[t._v("草稿")]):1==e.row.carriageState?a("span",[t._v("已提交")]):2==e.row.carriageState?a("span",[t._v("已分配承运人")]):3==e.row.carriageState?a("span",[t._v("已接单")]):4==e.row.carriageState?a("span",[t._v("提货中")]):5==e.row.carriageState?a("span",[t._v("发车中")]):6==e.row.carriageState?a("span",[t._v("已到达")]):7==e.row.carriageState?a("span",[t._v("卸货中")]):8==e.row.carriageState?a("span",[t._v("已签收")]):9==e.row.carriageState?a("span",[t._v("已作废")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"checkState",label:"审核状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.checkState?a("span",[t._v("待审核")]):1==e.row.checkState?a("span",[t._v("审核中")]):2==e.row.checkState?a("span",[t._v("审核通过")]):3==e.row.checkState?a("span",[t._v("审核不通过")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"shipperUserId",label:"托运人",width:"120"}}),a("el-table-column",{attrs:{prop:"relevanceCode",label:"订单号",width:"200"}}),a("el-table-column",{attrs:{prop:"goodsName",label:"货物名称"}}),a("el-table-column",{attrs:{prop:"deliverContactsProvince",label:"装货地点",width:"200"}}),a("el-table-column",{attrs:{prop:"takeContactsProvince",label:"卸货地点",width:"200"}}),a("el-table-column",{attrs:{prop:"takeContacts",label:"收货人"}}),a("el-table-column",{attrs:{prop:"drPaymentAmount",label:"第二收款人",width:"120"}}),a("el-table-column",{attrs:{prop:"payeeName",label:"司机姓名"}}),a("el-table-column",{attrs:{prop:"vehicleNumber",label:"车船号"}}),a("el-table-column",{attrs:{prop:"planArrivalTime",label:"计划到货时间",width:"180"}}),a("el-table-column",{attrs:{prop:"demountTime",label:"实际到货时间"}}),a("el-table-column",{attrs:{prop:"settleWeight",label:"计价单位"}}),a("el-table-column",{attrs:{prop:"planWeight",label:"计划装货量"}}),a("el-table-column",{attrs:{prop:"realityInstallNumber",label:"实发装货量"}}),a("el-table-column",{attrs:{prop:"realityArriveNumber",label:"实收量",width:"120"}}),a("el-table-column",{attrs:{prop:"unitPrice",label:"单价"}}),a("el-table-column",{attrs:{prop:"sjPaymentAmount",label:"司机运费"}}),a("el-table-column",{attrs:{prop:"date",label:"含税运费"}}),a("el-table-column",{attrs:{prop:"alreadyPaidYf",label:"已支付运费"}}),a("el-table-column",{attrs:{prop:"paymentState",label:"支付状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.paymentState?a("span",[t._v("未结清")]):1==e.row.paymentState?a("span",[t._v("已结清")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"goodsName",label:"货物名称"}}),a("el-table-column",{attrs:{prop:"deliverContactsProvince",label:"装货地点",width:"200"}}),a("el-table-column",{attrs:{prop:"takeContactsProvince",label:"卸货地点",width:"200"}}),a("el-table-column",{attrs:{prop:"takeContacts",label:"收货人"}}),a("el-table-column",{attrs:{prop:"payeeName",label:"收款人",width:"120"}}),a("el-table-column",{attrs:{prop:"planPickTime",label:"计划装货时间",width:"230"}}),a("el-table-column",{attrs:{prop:"arriveTime",label:"实际提货时间",width:"150"}}),a("el-table-column",{attrs:{prop:"planArrivalTime",label:"计划到货时间",width:"180"}}),a("el-table-column",{attrs:{prop:"demountTime",label:"实际到货时间"}}),a("el-table-column",{attrs:{prop:"settleWeight",label:"计价单位"}}),a("el-table-column",{attrs:{prop:"planWeight",label:"计划装货量"}}),a("el-table-column",{attrs:{prop:"realityInstallNumber",label:"实发装货量"}}),a("el-table-column",{attrs:{prop:"realityArriveNumber",label:"实收量",width:"120"}}),a("el-table-column",{attrs:{prop:"unitPrice",label:"单价"}}),a("el-table-column",{attrs:{prop:"sjPaymentAmount",label:"司机运费"}}),a("el-table-column",{attrs:{prop:"alreadyPaidYf",label:"已支付运费"}}),a("el-table-column",{attrs:{prop:"paymentState",label:"支付状态",width:"120"}}),a("el-table-column",{attrs:{prop:"date",label:"开票状态(无字段)"}}),a("el-table-column",{attrs:{prop:"date",label:"回单状态(无字段)"}}),a("el-table-column",{attrs:{prop:"remake",label:"备注说明"}}),a("el-table-column",{attrs:{prop:"adminCompany",label:"业务管理公司"}}),a("el-table-column",{attrs:{prop:"contractUrl",label:"托运人合同"}}),a("el-table-column",{attrs:{prop:"contractState",label:"托运人合同状态"}}),a("el-table-column",{attrs:{prop:"contractUrl",label:"承运人合同",width:"120"}}),a("el-table-column",{attrs:{prop:"contractState",label:"承运人合同状态"}}),a("el-table-column",{attrs:{prop:"nickName",label:"创建人"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"date",label:"付款申请时间"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"operate mr10",staticStyle:{color:"#67c23a"},on:{click:function(a){return t.goinfo(e.row)}}},[t._v("详情")])]}}])})],1),a("div",{staticClass:"paging_css"},[a("Pagination",{attrs:{total:t.total,page:t.pageNum,limit:t.pageSize},on:{pagination:t.pagination}})],1),a("el-dialog",{attrs:{title:"审核运单",visible:t.dialogVisible1,width:"450px",center:""},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("div",{staticClass:"pad10"},[a("el-select",{staticClass:"mr5",attrs:{placeholder:"选择审核状态"},model:{value:t.form.auditState,callback:function(e){t.$set(t.form,"auditState",e)},expression:"form.auditState"}},[a("el-option",{attrs:{label:"审核通过",value:2}}),a("el-option",{attrs:{label:"审核不通过",value:3}})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3==t.form.auditState,expression:"form.auditState == 3"}],staticClass:"pad10"},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入审核内容"},model:{value:t.form.checkRemake,callback:function(e){t.$set(t.form,"checkRemake",e)},expression:"form.checkRemake"}})],1),a("div",{staticClass:"biaotk pad10"},[t._v("确认将以下数据进行审核操作？")]),a("div",{staticClass:"shengmiaos pad10"},t._l(t.multipleSelection,(function(e,l){return a("div",{key:l},[t._v(" "+t._s(e)+" ")])})),0),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.carriageAudit}},[t._v("确 定")])],1)])],1)},i=[],r=(a("a9e3"),a("d81d"),a("333d")),o=a("54fb"),n=(a("d48e"),{components:{Pagination:r["a"]},data:function(){return{conditions:[{value:1,label:"车牌号"},{value:2,label:"运单编号"},{value:3,label:"司机手机号"},{value:4,label:"托运人名称"},{value:5,label:"收货方名称"},{value:6,label:"货物名称"},{value:7,label:"司机姓名"}],conditions_value:1,conditions_data:"vehicleNumber",numberData:"",timeData:[{value:1,label:"计划提货时间"},{value:2,label:"实际提货时间"},{value:3,label:"计划到货时间"},{value:4,label:"实际到货时间"},{value:5,label:"运单创建时间"}],time_value:1,time_dataA:"planPickTimeStartTime",time_dataB:"planPickTimeEndTime",startTime:"",endTime:"",checkState:"",carriageState:"",payState:"",tableData:[],pageSize:10,pageNum:1,total:0,multipleSelection:[],dialogVisible1:!1,form:{auditState:2,checkRemake:"",list:[]}}},watch:{conditions_value:function(t){switch(Number(t)){case 1:this.conditions_data="vehicleNumber";break;case 2:this.conditions_data="carriageId";break;case 3:this.conditions_data="idCardPhone";break;case 4:this.conditions_data="shipperFullName";break;case 5:this.conditions_data="takeContacts";break;case 6:this.conditions_data="goodsName";break;case 7:this.conditions_data="payeeName"}},time_value:function(t){switch(Number(t)){case 1:this.time_dataA="planPickTimeStartTime",this.time_dataB="planPickTimeEndTime";break;case 2:this.time_dataA="arriveTimeStartTime",this.time_dataB="arriveTimeEndTime";break;case 3:this.time_dataA="planArrivalTimeStartTime",this.time_dataB="planArrivalTimeEndTime";break;case 4:this.time_dataA="demountTimeStartTime",this.time_dataB="demountTimeEndTime";break;case 5:this.time_dataA="createTimeStartTime",this.time_dataB="createTimeStartEndTime";break}}},mounted:function(){this.getList()},methods:{audit:function(){this.multipleSelection.length<=0?this.$message({message:"请勾选需要操作的数据",type:"warning",duration:2e3}):this.dialogVisible1=!0},carriageAudit:function(){var t=this;if(3!=this.form.auditState||""!=this.form.checkRemake){var e={auditState:this.form.auditState,checkRemake:this.form.checkRemake,carriageIdList:String(this.multipleSelection)};Object(o["a"])(e).then((function(e){200==e.code&&(t.$message({type:"success",message:"操作成功!"}),t.dialogVisible1=!1,t.getList(),t.form={auditState:"",checkRemake:"",list:[]})}))}else this.$message({message:"审核内容不能为空",type:"warning",duration:2e3})},handleSelectionChange:function(t){this.multipleSelection=t.map((function(t){return t.carriageId}))},empty:function(){this.checkState="",this.carriageState="",this.payState="",this.numberData="",this.startTime="",this.endTime="",this.pageSize=10,this.pageNum=1,this.conditions_value=1,this.getList()},query:function(){this.pageNum=1,this.getList()},pagination:function(t){this.pageSize=t.limit,this.pageNum=t.page,this.getList()},goinfo:function(t){this.$router.push({path:"/business/wayBill/info/index",query:{carriageId:t.carriageId}})},getList:function(){var t=this,e={checkState:this.checkState,carriageState:this.carriageState,payState:this.payState};e[this.conditions_data]=this.numberData,e[this.time_dataA]=this.startTime,e[this.time_dataB]=this.endTime,Object(o["b"])(e,{pageSize:this.pageSize,pageNum:this.pageNum}).then((function(e){200==e.code&&(t.tableData=e.rows,t.total=e.total)}))}}}),s=n,c=(a("1bf1"),a("2877")),p=Object(c["a"])(s,l,i,!1,null,"7d56a650",null);e["default"]=p.exports},d48e:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var l=a("5c96");function i(t){var e=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;return!!e.test(t)||(Object(l["Message"])({message:"手机号不正确",type:"warning",duration:3e3}),!1)}}}]);