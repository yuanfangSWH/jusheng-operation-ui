(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0bee614a"],{"0834":function(e,r,t){},"09b6":function(e,r,t){"use strict";t("0834")},"365c":function(e,r,t){"use strict";t.d(r,"e",(function(){return a})),t.d(r,"d",(function(){return d})),t.d(r,"a",(function(){return o})),t.d(r,"b",(function(){return n})),t.d(r,"c",(function(){return l}));var i=t("b775");function a(e){return Object(i["a"])({url:"/operation/file/uploadFile",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})}function d(e){return Object(i["a"])({url:"/operation/file/deleteFile",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}function o(e){return Object(i["a"])({url:"/operation/file/DLCardOCRAndUpload",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}function n(e){return Object(i["a"])({url:"/operation/file/IDCardOCRAndUpload",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}function l(e){return Object(i["a"])({url:"/operation/file/VDLCardOCRAndUpload",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}},5581:function(e,r,t){"use strict";t.r(r);var i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"app-container"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px",inline:""}},[t("div",{staticClass:"mb20"},[t("el-divider",{attrs:{"content-position":"left"}},[t("span",{staticClass:"weight"},[e._v("身份信息")])])],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"性别",prop:"sex"}},[t("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.sex,callback:function(r){e.$set(e.form,"sex",r)},expression:"form.sex"}},[t("el-option",{attrs:{label:"男",value:1}}),t("el-option",{attrs:{label:"女",value:0}})],1)],1),t("el-form-item",{attrs:{label:"注册手机号",prop:"phone"}},[t("el-input",{attrs:{disabled:"",clearable:""},model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}})],1),t("el-form-item",{attrs:{label:"身份证号",prop:"idCardNumber"}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.idCardNumber,callback:function(r){e.$set(e.form,"idCardNumber",r)},expression:"form.idCardNumber"}})],1),t("el-form-item",{attrs:{label:"身份地址",prop:"idCardAddress"}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.idCardAddress,callback:function(r){e.$set(e.form,"idCardAddress",r)},expression:"form.idCardAddress"}})],1),t("el-form-item",{attrs:{label:"身份证签发机关",prop:"idCardOffice"}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.idCardOffice,callback:function(r){e.$set(e.form,"idCardOffice",r)},expression:"form.idCardOffice"}})],1),t("el-form-item",{attrs:{label:"关联收款人",prop:"chauffeurId"}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.chauffeurId,callback:function(r){e.$set(e.form,"chauffeurId",r)},expression:"form.chauffeurId"}})],1),t("div",[t("el-form-item",{attrs:{label:"身份证有效开始时间 ",prop:"idCardPeriodStartTime"}},[t("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择开始日期"},model:{value:e.form.idCardPeriodStartTime,callback:function(r){e.$set(e.form,"idCardPeriodStartTime",r)},expression:"form.idCardPeriodStartTime"}})],1),t("el-form-item",{attrs:{label:"身份证有效结束日期",prop:"idCardPeriodEndTime"}},[t("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择结束日期"},model:{value:e.form.idCardPeriodEndTime,callback:function(r){e.$set(e.form,"idCardPeriodEndTime",r)},expression:"form.idCardPeriodEndTime"}})],1)],1),t("div",{staticClass:"mb20"},[t("el-divider",{attrs:{"content-position":"left"}},[t("span",{staticClass:"weight"},[e._v("驾驶证信息")])])],1),t("el-form-item",{attrs:{label:"驾驶证号",prop:"drivingNumber"}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.drivingNumber,callback:function(r){e.$set(e.form,"drivingNumber",r)},expression:"form.drivingNumber"}})],1),t("el-form-item",{attrs:{label:"准驾车型",prop:"vehicleType"}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.vehicleType,callback:function(r){e.$set(e.form,"vehicleType",r)},expression:"form.vehicleType"}})],1),t("el-form-item",{attrs:{label:"驾驶证有效开始日期",prop:"drivingStartTime"}},[t("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择开始日期"},model:{value:e.form.drivingStartTime,callback:function(r){e.$set(e.form,"drivingStartTime",r)},expression:"form.drivingStartTime"}})],1),t("el-form-item",{attrs:{label:"驾驶证有效结束日期",prop:"drivingEndTime"}},[t("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择结束日期"},model:{value:e.form.drivingEndTime,callback:function(r){e.$set(e.form,"drivingEndTime",r)},expression:"form.drivingEndTime"}})],1),t("div",{staticClass:"mb20"},[t("el-divider",{attrs:{"content-position":"left"}},[t("span",{staticClass:"weight"},[e._v("从业资格证信息")])])],1),t("el-form-item",{attrs:{label:"从业资格证号",prop:"qualifiedNumber"}},[t("el-input",{attrs:{clearable:""},model:{value:e.form.qualifiedNumber,callback:function(r){e.$set(e.form,"qualifiedNumber",r)},expression:"form.qualifiedNumber"}})],1),t("el-form-item",{attrs:{label:"资格证有效开始日期",prop:"qualifiedPeriodStartTime"}},[t("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择开始日期"},model:{value:e.form.qualifiedPeriodStartTime,callback:function(r){e.$set(e.form,"qualifiedPeriodStartTime",r)},expression:"form.qualifiedPeriodStartTime"}})],1),t("el-form-item",{attrs:{label:"资格证有效结束日期",prop:"qualifiedPeriodEndTime"}},[t("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择结束日期"},model:{value:e.form.qualifiedPeriodEndTime,callback:function(r){e.$set(e.form,"qualifiedPeriodEndTime",r)},expression:"form.qualifiedPeriodEndTime"}})],1),t("div",{staticClass:"mb20"},[t("el-divider",{attrs:{"content-position":"left"}},[t("span",{staticClass:"weight"},[e._v("证件照片列表")])])],1),t("div",{staticClass:"imgdiv"},[t("div",{staticClass:"liemg"},[t("div",{staticClass:"imgBox"},e._l(e.urls,(function(r,i){return t("div",{key:i,staticClass:"youshang"},[t("el-image",{staticClass:"imgs",attrs:{src:r.url,lazy:""},on:{click:function(r){return e.getImg(i)}}}),t("div",{staticClass:"biatwcss"},[e._v(e._s(r.name))])],1)})),0)]),t("div",{staticClass:"xianshu"},[t("el-carousel",{ref:"slideCarousel",attrs:{height:"560px","indicator-position":"none",arrow:"always",autoplay:!1}},e._l(e.urls,(function(r,i){return t("el-carousel-item",{key:i},[t("div",{staticStyle:{width:"100%"}},[t("el-image",{staticStyle:{width:"100%",height:"500px"},attrs:{fit:"contain",src:r.url}}),t("div",{staticClass:"textmiaos"},[e._v(e._s(r.name))]),t("div",{staticClass:"annscc"},[t("div",{staticStyle:{flex:"1"}}),t("div",{staticStyle:{"margin-right":"306px",display:"flex"}},[t("el-upload",{attrs:{action:"","show-file-list":!1,"file-list":e.fileList,"http-request":e.uploadSectionFile}},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.uploadIMG(i)}}},[e._v("重新上传")])],1),t("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger"},on:{click:function(r){return e.disappearIMG(i)}}},[e._v("删除图片")])],1)])],1)])})),1)],1)]),t("el-divider",{attrs:{"content-position":"left"}}),t("el-form-item",{attrs:{label:"审核结果",prop:"auditStatus"}},[t("el-radio-group",{model:{value:e.form.auditStatus,callback:function(r){e.$set(e.form,"auditStatus",r)},expression:"form.auditStatus"}},[t("el-radio",{attrs:{label:1}},[e._v("审核中")]),t("el-radio",{attrs:{label:2}},[e._v("审核通过")]),t("el-radio",{attrs:{label:3}},[e._v("审核不通过")])],1)],1),t("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==e.form.auditStatus,expression:"form.auditStatus == 3"}],attrs:{label:"审核意见"}},[t("el-input",{staticStyle:{"min-width":"330px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入审核意见"},model:{value:e.form.notGoCause,callback:function(r){e.$set(e.form,"notGoCause",r)},expression:"form.notGoCause"}})],1),t("div",[t("el-form-item",{attrs:{label:" "}},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.updateDriver()}}},[e._v("保存数据")])],1)],1)],1)],1)},a=[],d=t("ade3"),o=(t("a434"),t("b0c0"),t("159b"),t("5cb1")),n=t("365c"),l=(t("d48e"),{data:function(){var e;return{form:(e={chauffeurId:"",name:"",sex:1,phone:"",idCardNumber:"",idCardAddress:"",idCardOffice:"",idCardPeriodStartTime:"",idCardPeriodEndTime:""},Object(d["a"])(e,"chauffeurId",""),Object(d["a"])(e,"drivingNumber",""),Object(d["a"])(e,"vehicleType",""),Object(d["a"])(e,"drivingStartTime",""),Object(d["a"])(e,"drivingEndTime",""),Object(d["a"])(e,"qualifiedNumber",""),Object(d["a"])(e,"qualifiedPeriodStartTime",""),Object(d["a"])(e,"qualifiedPeriodEndTime",""),Object(d["a"])(e,"auditStatus",1),Object(d["a"])(e,"notGoCause",""),Object(d["a"])(e,"idCardPerson",""),Object(d["a"])(e,"idCardBadge",""),Object(d["a"])(e,"drivingPerson",""),Object(d["a"])(e,"drivingBadge",""),Object(d["a"])(e,"cyCertificate",""),e),urls:[],fileList:[],imgURL:[],imgKey:{value:"",key:""},rules:{xxx:[{required:!0,message:"不能为空"}]}}},mounted:function(){this.form.chauffeurId=this.$route.query.chauffeurId,this.queryDriverById()},methods:{uploadSectionFile:function(e){var r=this,t=e.file,i=t.size/1024/1024<6;if(i){var a=new FormData;a.append("file",t),Object(n["e"])(a).then((function(e){200==e.code&&(r.imgURL.push(r.urls[r.imgKey.key].url),r.urls[r.imgKey.key].url=e.data,r.form[r.imgKey.value]=e.data)}))}else this.$message.error("上传图片大小不能超过 6MB!")},uploadIMG:function(e){this.imgKey.value=this.urls[e].value,this.imgKey.key=e},disappearIMG:function(e){this.imgURL.push(this.urls[e].url),this.urls.splice(e,1)},getImg:function(e){this.$refs.slideCarousel.setActiveItem(e)},queryDriverById:function(){var e=this;Object(o["d"])({chauffeurId:this.form.chauffeurId}).then((function(r){var t,i,a,d,o;200==r.code&&(e.form.name=r.data.name,e.form.sex=r.data.sex,e.form.phone=r.data.phone,e.form.idCardNumber=r.data.idCardNumber,e.form.idCardAddress=r.data.idCardAddress,e.form.idCardOffice=r.data.idCardOffice,e.form.idCardPeriodStartTime=r.data.idCardPeriodStartTime,e.form.idCardPeriodEndTime=r.data.idCardPeriodEndTime,e.form.chauffeurId=r.data.chauffeurId,e.form.drivingNumber=r.data.drivingNumber,e.form.vehicleType=r.data.vehicleType,e.form.drivingStartTime=r.data.drivingStartTime,e.form.drivingEndTime=r.data.drivingEndTime,e.form.qualifiedNumber=r.data.qualifiedNumber,e.form.qualifiedPeriodStartTime=r.data.qualifiedPeriodStartTime,e.form.qualifiedPeriodEndTime=r.data.qualifiedPeriodEndTime,e.form.auditStatus=r.data.auditStatus,e.form.notGoCause=r.data.notGoCause,e.form.idCardPerson=r.data.idCardPerson,e.form.idCardBadge=r.data.idCardBadge,e.form.drivingPerson=r.data.drivingPerson,e.form.drivingBadge=r.data.drivingBadge,e.form.cyCertificate=r.data.cyCertificate,null!==(t=e.form)&&void 0!==t&&t.idCardPerson&&e.urls.push({name:"身份证头像面",value:"idCardPerson",url:e.form.idCardPerson}),null!==(i=e.form)&&void 0!==i&&i.idCardBadge&&e.urls.push({name:"身份证国徽面",value:"idCardBadge",url:e.form.idCardBadge}),null!==(a=e.form)&&void 0!==a&&a.drivingPerson&&e.urls.push({name:"驾驶证正本",value:"drivingPerson",url:e.form.drivingPerson}),null!==(d=e.form)&&void 0!==d&&d.drivingBadge&&e.urls.push({name:"驾驶证副本",value:"drivingBadge",url:e.form.drivingBadge}),null!==(o=e.form)&&void 0!==o&&o.cyCertificate&&e.urls.push({name:"从业资格证",value:"cyCertificate",url:e.form.cyCertificate}))}))},updateDriver:function(){var e=this;3!=this.form.auditStatus||""!=this.form.notGoCause?this.$refs.form.validate((function(r){if(r){var t={name:e.form.name,sex:e.form.sex,phone:e.form.phone,idCardNumber:e.idCardNumber,idCardAddress:e.form.idCardAddress,idCardOffice:e.form.idCardOffice,idCardPeriodStartTime:e.form.idCardPeriodStartTime,idCardPeriodEndTime:e.form.idCardPeriodEndTime,chauffeurId:e.form.chauffeurId,drivingNumber:e.form.drivingNumber,vehicleType:e.form.vehicleType,drivingStartTime:e.form.drivingStartTime,drivingEndTime:e.form.drivingEndTime,qualifiedNumber:e.form.qualifiedNumber,qualifiedPeriodStartTime:e.form.qualifiedPeriodStartTime,qualifiedPeriodEndTime:e.form.qualifiedPeriodEndTime,auditStatus:e.form.auditStatus,notGoCause:e.form.notGoCause,idCardPerson:e.form.idCardPerson,idCardBadge:e.form.idCardBadge,drivingPerson:e.form.drivingPerson,drivingBadge:e.form.drivingBadge,cyCertificate:e.form.cyCertificate};Object(o["f"])(t).then((function(r){200==r.code&&(e.deleteIMG(),e.$refs.form.resetFields(),e.$message({message:"保存成功",type:"success",duration:3e3}),e.$router.push({path:"/member/driver/index"}))}))}})):this.$message({message:"请填写审核意见",type:"warning",duration:2e3})},deleteIMG:function(){this.imgURL.forEach((function(e){Object(n["d"])({filePath:e})}))}}}),s=l,u=(t("09b6"),t("2877")),m=Object(u["a"])(s,i,a,!1,null,"c1b03a0a",null);r["default"]=m.exports},"5cb1":function(e,r,t){"use strict";t.d(r,"c",(function(){return a})),t.d(r,"e",(function(){return d})),t.d(r,"f",(function(){return o})),t.d(r,"a",(function(){return n})),t.d(r,"d",(function(){return l})),t.d(r,"b",(function(){return s}));var i=t("b775");function a(e,r){return Object(i["a"])({url:"operation/driver/queryDrivers",method:"post",data:e,params:r})}function d(e){return Object(i["a"])({url:"operation/driver/saveDriver",method:"post",data:e})}function o(e){return Object(i["a"])({url:"operation/driver/updateDriver",method:"post",data:e})}function n(e){return Object(i["a"])({url:"operation/driver/deleteDriver",method:"post",data:e})}function l(e){return Object(i["a"])({url:"operation/driver/queryDriverById",method:"post",data:e})}function s(e){return Object(i["a"])({url:"operation/driver/detectionPhone",method:"post",data:e})}},d48e:function(e,r,t){"use strict";t.d(r,"a",(function(){return a}));var i=t("5c96");function a(e){var r=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;return!!r.test(e)||(Object(i["Message"])({message:"手机号不正确",type:"warning",duration:3e3}),!1)}}}]);