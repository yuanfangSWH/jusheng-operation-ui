(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3b39118"],{"6f02":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"mb20 flex transposition justify-end"},[a("el-input",{staticClass:"search mr5",attrs:{size:"small mr10",placeholder:"请输入手机号"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("el-select",{attrs:{size:"small mr10",placeholder:"状态",clearable:""},model:{value:e.state_value,callback:function(t){e.state_value=t},expression:"state_value"}},e._l(e.state,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-select",{attrs:{size:"small mr10",placeholder:"身份",clearable:""},model:{value:e.identity_value,callback:function(t){e.identity_value=t},expression:"identity_value"}},e._l(e.identity,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("el-button",{attrs:{type:"primary"},on:{click:e.query}},[e._v("查询")]),a("el-button",{attrs:{type:"danger"},on:{click:e.empty}},[e._v("清空")])],1),a("el-table",{staticClass:"el-table-css",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{prop:"userId",label:"咨询/投诉人"}}),a("el-table-column",{attrs:{prop:"userType",label:"身份"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.userType?a("span",[e._v("托运人")]):1==t.row.userType?a("span",[e._v("司机")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"userPhone",label:"手机号码"}}),a("el-table-column",{attrs:{prop:"feedbackContent",label:"反馈内容"}}),a("el-table-column",{attrs:{prop:"feedbackTime",label:"反馈时间"}}),a("el-table-column",{attrs:{prop:"dealWithContent",label:"处理内容"}}),a("el-table-column",{attrs:{label:"处理状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.dealWithState?a("span",{staticStyle:{color:"#f56c6c",cursor:"pointer"},on:{click:function(a){return e.goInfo(t.row)}}},[e._v("未处理")]):1==t.row.dealWithState?a("span",{staticStyle:{color:"#67c23a"}},[e._v("已处理")]):a("span",{staticStyle:{color:"##909399"}},[e._v("未知")])]}}])}),a("el-table-column",{attrs:{prop:"dealWithBy",label:"处理人"}}),a("el-table-column",{attrs:{prop:"dealWithTime",label:"处理时间"}})],1),a("div",{staticClass:"paging_css"},[a("Pagination",{attrs:{total:e.total,page:e.pageNum,limit:e.pageSize},on:{pagination:e.pagination}})],1),a("el-dialog",{attrs:{title:"处理咨询/投诉",visible:e.dialogVisible1,width:"50%",center:""},on:{"update:visible":function(t){e.dialogVisible1=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"150px"}},[a("div",{staticClass:"flex"},[a("el-form-item",{attrs:{label:"咨询/投诉人"}},[e._v(" "+e._s(e.form.userId)+" ")]),a("el-form-item",{attrs:{label:"身份"}},[0==e.form.userType?a("span",[e._v("托运人")]):1==e.form.userType?a("span",[e._v("司机")]):e._e()]),a("el-form-item",{attrs:{label:"手机号"}},[e._v(" "+e._s(e.form.userPhone)+" ")])],1),a("el-form-item",{attrs:{label:"反馈内容"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},disabled:"",clearable:""},model:{value:e.form.feedbackContent,callback:function(t){e.$set(e.form,"feedbackContent",t)},expression:"form.feedbackContent"}})],1),a("el-form-item",{attrs:{label:"反馈时间"}},[e._v(" "+e._s(e.form.feedbackTime)+" ")]),a("el-form-item",{attrs:{label:"处理回复"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入回复",clearable:""},model:{value:e.dealWithContent,callback:function(t){e.dealWithContent=t},expression:"dealWithContent"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible1=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.dealWithConsultFeedback}},[e._v("确 定")])],1)],1)],1)},i=[],n=a("b775");function o(e,t){return Object(n["a"])({url:"operation/consultFeedback/queryConsultFeedbacks",method:"post",data:e,params:t})}function s(e){return Object(n["a"])({url:"operation/consultFeedback/dealWithConsultFeedback",method:"post",data:e})}var r=a("d48e"),u=a("333d"),c={components:{Pagination:u["a"]},data:function(){return{dealWithContent:"",state:[{value:0,label:"未处理"},{value:1,label:"已处理"}],state_value:"",identity:[{value:0,label:"托运人"},{value:1,label:"司机"}],identity_value:"",phone:"",tableData:[],dialogVisible1:!1,form:{},pageSize:10,pageNum:1,total:0}},mounted:function(){this.getList()},methods:{pagination:function(e){this.pageSize=e.limit,this.pageNum=e.page,this.getList()},empty:function(){this.state_value="",this.identity_value="",this.phone="",this.pageSize=10,this.pageNum=1,this.getList()},query:function(){(""==this.phone||Object(r["a"])(this.phone))&&(this.pageNum=1,this.getList())},goInfo:function(e){this.form=e,this.dialogVisible1=!0},getList:function(){var e=this;o({userType:this.identity_value,dealWithState:this.state_value,userPhone:this.phone},{pageSize:this.pageSize,pageNum:this.pageNum}).then((function(t){200==t.code&&(e.tableData=t.rows,e.total=t.total)}))},dealWithConsultFeedback:function(){var e=this;""!=this.dealWithContent?s({dealWithContent:this.dealWithContent,feedbackId:this.form.feedbackId}).then((function(t){200==t.code&&(e.dealWithContent="",e.dialogVisible1=!1)})):this.$message({message:"请填写处理回复",type:"warning",duration:2e3})}}},p=c,d=a("2877"),b=Object(d["a"])(p,l,i,!1,null,"1621ce86",null);t["default"]=b.exports},d48e:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var l=a("5c96");function i(e){var t=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;return!!t.test(e)||(Object(l["Message"])({message:"手机号不正确",type:"warning",duration:3e3}),!1)}}}]);