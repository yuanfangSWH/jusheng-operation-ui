(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21eace"],{d727:function(t,a,e){"use strict";e.r(a);var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"mb20 flex transposition justify-end"},[e("el-input",{staticClass:"search mr5",attrs:{placeholder:"请输入运单号",clearable:""},model:{value:t.carriageId,callback:function(a){t.carriageId=a},expression:"carriageId"}}),e("el-select",{attrs:{size:"small mr10",placeholder:"运单状态"},model:{value:t.carriageState,callback:function(a){t.carriageState=a},expression:"carriageState"}},[e("el-option",{attrs:{value:0,label:"全部"}}),e("el-option",{attrs:{value:1,label:"已接单"}}),e("el-option",{attrs:{value:2,label:"发车中"}}),e("el-option",{attrs:{value:3,label:"已到达"}}),e("el-option",{attrs:{value:4,label:"已签收"}}),e("el-option",{attrs:{value:5,label:"已关闭"}}),e("el-option",{attrs:{value:6,label:"新建"}})],1),e("el-input",{staticClass:"search mr5",attrs:{placeholder:"请输入合同号",clearable:""},model:{value:t.contractId,callback:function(a){t.contractId=a},expression:"contractId"}}),e("el-select",{attrs:{size:"small mr10",placeholder:"合同类型"},model:{value:t.contractType,callback:function(a){t.contractType=a},expression:"contractType"}},[e("el-option",{attrs:{value:0,label:"托运人合同"}}),e("el-option",{attrs:{value:1,label:"承运人合同"}})],1),e("el-select",{attrs:{size:"small mr10",placeholder:"合同状态"},model:{value:t.contractState,callback:function(a){t.contractState=a},expression:"contractState"}},[e("el-option",{attrs:{value:0,label:"未签署"}}),e("el-option",{attrs:{value:1,label:"签署成功"}}),e("el-option",{attrs:{value:2,label:"签署失败"}})],1),e("el-button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("查询")]),e("el-button",{attrs:{type:"danger"},on:{click:t.empty}},[t._v("清空")])],1),e("div",{staticClass:"mb20 flex transposition justify-end"},[e("el-select",{attrs:{size:"small mr5",placeholder:"选择时间条件"},model:{value:t.time_value,callback:function(a){t.time_value=a},expression:"time_value"}},[e("el-option",{attrs:{value:1,label:"合同创建时间"}}),e("el-option",{attrs:{value:2,label:"合同签订时间"}})],1),e("el-date-picker",{staticClass:"mr5",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择起始日期"},model:{value:t.startTime,callback:function(a){t.startTime=a},expression:"startTime"}}),e("el-date-picker",{staticClass:"mr5",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择结束日期"},model:{value:t.endTime,callback:function(a){t.endTime=a},expression:"endTime"}})],1),e("div",{staticClass:"mb20"},[e("el-button",{attrs:{type:"primary"}},[t._v("重新生成合同")]),e("el-button",{attrs:{type:"warning"}},[t._v("更新合同状态")])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[e("el-table-column",{attrs:{type:"selection"}}),e("el-table-column",{attrs:{type:"index",label:"序号"}}),e("el-table-column",{attrs:{prop:"contractId",label:"合同编号"}}),e("el-table-column",{attrs:{prop:"carriageId",label:"运单编号"}}),e("el-table-column",{attrs:{prop:"contractType",label:"合同类型"},scopedSlots:t._u([{key:"default",fn:function(a){return[0==a.row.contractType?e("span",[t._v("托运人合同")]):t._e(),1==a.row.contractType?e("span",[t._v("承运人合同")]):t._e()]}}])}),e("el-table-column",{attrs:{prop:"carriageState",label:"运单状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[0==a.row.carriageState?e("span",[t._v("草稿")]):t._e(),1==a.row.carriageState?e("span",[t._v("已提交")]):t._e(),2==a.row.carriageState?e("span",[t._v("已分配承运人")]):t._e(),3==a.row.carriageState?e("span",[t._v("已接单")]):t._e(),4==a.row.carriageState?e("span",[t._v("提货中")]):t._e(),5==a.row.carriageState?e("span",[t._v("发车中")]):t._e(),6==a.row.carriageState?e("span",[t._v("已到达")]):t._e(),7==a.row.carriageState?e("span",[t._v("卸货中")]):t._e(),8==a.row.carriageState?e("span",[t._v("已签收")]):t._e(),9==a.row.carriageState?e("span",[t._v("已作废")]):t._e()]}}])}),e("el-table-column",{attrs:{prop:"contractState",label:"合同状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(a){return[0==a.row.contractState?e("span",[t._v("未签署")]):t._e(),1==a.row.contractState?e("span",[t._v("签署成功")]):t._e(),2==a.row.contractState?e("span",[t._v("签署失败")]):t._e()]}}])}),e("el-table-column",{attrs:{prop:"contractTime",label:"合同签订时间",width:"120"}}),e("el-table-column",{attrs:{prop:"contractCreateTime",label:"合同创建时间",width:"120"}}),e("el-table-column",{attrs:{prop:"contractPartyA",label:"甲方"}}),e("el-table-column",{attrs:{prop:"contractPartyB",label:"乙方",width:"120"}}),e("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e("el-table-column",{attrs:{label:"操作",fixed:"right",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",{staticClass:"operate mr10",on:{click:function(e){return t.getContract(a.row)}}},[t._v("查看合同")])]}}])})],1),e("div",{staticClass:"paging_css"},[e("Pagination",{attrs:{total:t.total,page:t.pageNum,limit:t.pageSize},on:{pagination:t.pagination}})],1)],1)},l=[],c=(e("a9e3"),e("b775"));function n(t,a){return Object(c["a"])({url:"/operation/contractManage/queryContracts",method:"POST",data:t,params:a})}var i=e("333d"),o={components:{Pagination:i["a"]},data:function(){return{tableData:[],pageSize:10,pageNum:1,total:0,carriageId:"",contractId:"",contractState:"",time_value:1,time_dataA:"contractCreateStartTime",time_dataB:"contractCreateEndTime",startTime:"",endTime:"",carriageState:"",contractType:""}},watch:{time_value:function(t){switch(Number(t)){case 1:this.time_dataA="contractCreateStartTime",this.time_dataB="contractCreateEndTime";break;case 2:this.time_dataA="contractStartTime",this.time_dataB="contractEndTime";break}}},mounted:function(){this.getList()},methods:{getContract:function(t){window.open(t.contractUrl)},empty:function(){this.carriageId="",this.contractId="",this.contractState="",this.startTime="",this.endTime="",this.pageSize=10,this.pageNum=1,this.getList()},query:function(){this.pageNum=1,this.getList()},pagination:function(t){this.pageSize=t.limit,this.pageNum=t.page,this.getList()},getList:function(){var t=this,a={carriageId:this.carriageId,contractId:this.contractId,contractState:this.contractState,carriageState:this.carriageState,contractType:this.contractType};a[this.time_dataA]=this.startTime,a[this.time_dataB]=this.endTime,console.log(a),n(a,{pageSize:this.pageSize,pageNum:this.pageNum}).then((function(a){200==a.code&&(t.tableData=a.rows,t.total=a.total)}))}}},s=o,p=e("2877"),u=Object(p["a"])(s,r,l,!1,null,"781b4d31",null);a["default"]=u.exports}}]);