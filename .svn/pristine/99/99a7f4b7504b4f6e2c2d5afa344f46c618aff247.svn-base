(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-940755de"],{"0060":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"mb20 flex transposition"},[i("el-button",{staticClass:"mr10",attrs:{type:"primary"},on:{click:e.addInvoice}},[e._v("添加发票")])],1),i("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[i("el-table-column",{attrs:{type:"index",label:"序号"}}),i("el-table-column",{attrs:{prop:"invoiceNumber",label:"发票号码"}}),i("el-table-column",{attrs:{prop:"invoiceCode",label:"发票代码"}}),i("el-table-column",{attrs:{prop:"invoiceDetail",label:"发票及明细"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("a",{staticClass:"operate mr10",staticStyle:{color:"#67c23a"},attrs:{href:t.row.invoiceDetail}},[e._v("下载")])]}}])}),i("el-table-column",{attrs:{prop:"invoiceTime",label:"开票日期"}}),i("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),i("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"operate mr10",staticStyle:{color:"#f56c6c"},on:{click:function(i){return e.deleteInvoice(t.row)}}},[e._v("删除")])]}}])})],1),i("el-dialog",{attrs:{title:"添加发票",visible:e.dialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[i("el-form-item",{attrs:{label:"发票号码",prop:"invoiceNumber"}},[i("el-input",{attrs:{clearable:""},model:{value:e.form.invoiceNumber,callback:function(t){e.$set(e.form,"invoiceNumber",t)},expression:"form.invoiceNumber"}})],1),i("el-form-item",{attrs:{label:"发票代码",prop:"invoiceCode"}},[i("el-input",{attrs:{clearable:""},model:{value:e.form.invoiceCode,callback:function(t){e.$set(e.form,"invoiceCode",t)},expression:"form.invoiceCode"}})],1),i("el-form-item",{attrs:{label:"开票日期",prop:"invoiceTime"}},[i("el-date-picker",{staticClass:"mr5",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择开票日期"},model:{value:e.form.invoiceTime,callback:function(t){e.$set(e.form,"invoiceTime",t)},expression:"form.invoiceTime"}})],1),i("el-form-item",{attrs:{label:"发票及明细",prop:"invoiceDetail"}},[i("uploadIMG",{ref:"uploadIMG",attrs:{fileTxet:!0,componentText:"添加文件",fieldText:"invoiceDetail"},on:{pictureIMG:e.pictureIMG,pictureDelete:e.pictureDelete}}),i("p",{staticStyle:{"font-size":"12px"}},[e._v(" 可上传发票图片及发票明细单，建议以压缩文件格式上传;支持图片、PDF、Word、Excel、压缩包格式，文件大小限制40M。 ")])],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.uploadInvoice}},[e._v("确 定")])],1)],1)],1)},o=[],n=i("a8b5"),l=i("f03a"),r={components:{uploadIMG:l["a"]},data:function(){return{dialogVisible:!1,tableData:[],rules:{xxx:[{required:!0,message:"不能为空"}]},form:{applyCode:"",invoiceTime:"",invoiceNumber:"",invoiceCode:"",invoiceDetail:""}}},mounted:function(){this.form.applyCode=this.$route.query.applyCode,this.queryInvoiceById()},methods:{pictureIMG:function(e){null!==e&&void 0!==e&&e.invoiceDetail&&(this.form.invoiceDetail=e.invoiceDetail)},pictureDelete:function(e){this.form[e]=""},queryInvoiceById:function(){var e=this;Object(n["d"])({applyCode:this.form.applyCode}).then((function(t){200==t.code&&e.tableData.push(t.data)}))},addInvoice:function(){this.dialogVisible=!0},uploadInvoice:function(){var e=this;this.$refs.form.validate((function(t){t&&Object(n["e"])(e.form).then((function(t){200==t.code&&(e.queryInvoiceById(),e.dialogVisible=!1,e.$refs.uploadIMG.originalData(),e.$refs.form.resetFields(),e.$message({type:"success",message:"添加成功!"}))}))}))},deleteInvoice:function(e){var t=this;this.$confirm("确定将该条数据删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["a"])({applyCode:e.applyCode}).then((function(e){200==e.code&&(t.tableData=[],t.queryInvoiceById(),t.$message({type:"success",message:"删除成功!"}))}))}))}}},c=r,s=(i("efb7"),i("2877")),u=Object(s["a"])(c,a,o,!1,null,"5e08afa4",null);t["default"]=u.exports},"18e5":function(e,t,i){},"365c":function(e,t,i){"use strict";i.d(t,"e",(function(){return o})),i.d(t,"d",(function(){return n})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return c}));var a=i("b775");function o(e){return Object(a["a"])({url:"/operation/file/uploadFile",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})}function n(e){return Object(a["a"])({url:"/operation/file/deleteFile",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}function l(e){return Object(a["a"])({url:"/operation/file/DLCardOCRAndUpload",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}function r(e){return Object(a["a"])({url:"/operation/file/IDCardOCRAndUpload",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}function c(e){return Object(a["a"])({url:"/operation/file/VDLCardOCRAndUpload",headers:{"Content-Type":"multipart/form-data"},method:"post",data:e})}},"5b47":function(e,t){e.exports="data:image/png;base64,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"},a8b5:function(e,t,i){"use strict";i.d(t,"c",(function(){return o})),i.d(t,"d",(function(){return n})),i.d(t,"b",(function(){return l})),i.d(t,"e",(function(){return r})),i.d(t,"a",(function(){return c}));var a=i("b775");function o(e,t){return Object(a["a"])({url:"/operation/invoiceManage/queryInvoiceInfo",method:"post",data:e,params:t})}function n(e){return Object(a["a"])({url:"/operation/invoiceAudit/queryInvoiceById",method:"post",data:e})}function l(e){return Object(a["a"])({url:"operation/invoiceManage/fallbackInvoice",method:"post",data:e})}function r(e){return Object(a["a"])({url:"/operation/invoiceManage/uploadInvoice",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/operation/invoiceManage/deleteInvoice",method:"post",data:e})}},a9cf:function(e,t,i){"use strict";i("18e5")},efb7:function(e,t,i){"use strict";i("fac2")},f03a:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"margin-bottom":"10px",display:"flex"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogImageUrl,expression:"dialogImageUrl"}],staticClass:"baogtidv"},[a("div",{staticClass:"gbij",on:{click:function(t){return e.deleteImg(e.key)}}},[a("i",{staticClass:"el-icon-error"})]),e.fileTxet?a("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i("5b47"),fit:"cover"}}):a("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.dialogImageUrl,fit:"cover"},on:{click:function(t){return e.amplification()}}})],1)]),a("el-upload",{attrs:{action:"","show-file-list":!1,"file-list":e.fileList,"http-request":e.uploadSectionFile}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v(e._s(e.componentText))])],1),a("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},o=[],n=i("ade3"),l=i("365c"),r={data:function(){return{fileList:[],dialogImageUrl:"",dialogVisible:!1}},props:{componentText:{type:String,default:"添加图片"},fieldText:{type:String,default:""},imgUrl:{type:String,default:""},fileTxet:{type:Boolean,default:!1}},methods:{originalData:function(){this.fileList=[],this.IMG_data=[],this.dialogImageUrl=this.imgUrl?this.imgUrl:"",this.dialogVisible=!1},setIMG:function(e){this.dialogImageUrl=e},uploadSectionFile:function(e){var t=this,i=e.file,a=i.size/1024/1024<6;if(a){var o=new FormData;o.append("file",i),Object(l["e"])(o).then((function(e){200==e.code&&(t.dialogImageUrl=e.data,t.$emit("pictureIMG",Object(n["a"])({},t.fieldText,e.data)))}))}else this.$message.error("上传图片大小不能超过 6MB!")},deleteImg:function(e){var t=this;Object(l["d"])({filePath:this.dialogImageUrl}).then((function(e){200==e.code&&(t.dialogImageUrl="",t.$emit("pictureDelete",t.fieldText),t.$message({message:"删除成功",type:"success",duration:2e3}))}))},amplification:function(e){this.dialogVisible=!0}}},c=r,s=(i("a9cf"),i("2877")),u=Object(s["a"])(c,a,o,!1,null,"2ddc7b84",null);t["a"]=u.exports},fac2:function(e,t,i){}}]);