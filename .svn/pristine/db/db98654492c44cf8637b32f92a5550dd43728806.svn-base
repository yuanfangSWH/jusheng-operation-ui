(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e813a0d6"],{"57cf":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"mb20 flex transposition justify-end align-center"},[a("el-select",{attrs:{size:"small mr10",placeholder:"计划提货时间"},model:{value:t.time_value,callback:function(e){t.time_value=e},expression:"time_value"}},[a("el-option",{attrs:{value:1,label:"计划提货时间"}}),a("el-option",{attrs:{value:2,label:"实际提货时间"}}),a("el-option",{attrs:{value:3,label:"计划到货时间"}}),a("el-option",{attrs:{value:4,label:"实际到货时间"}}),a("el-option",{attrs:{value:5,label:"创建时间"}}),a("el-option",{attrs:{value:6,label:"签收时间"}})],1),a("el-date-picker",{staticClass:"mr5",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择创建起始日期"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),a("el-date-picker",{staticClass:"mr5",attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择创建结束日期"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}}),a("el-select",{attrs:{size:"small mr10",placeholder:"运单状态"},model:{value:t.carriageState,callback:function(e){t.carriageState=e},expression:"carriageState"}},[a("el-option",{attrs:{value:"1",label:"已提交"}}),a("el-option",{attrs:{value:"2",label:"已分配承运人"}}),a("el-option",{attrs:{value:"3",label:"已接单"}}),a("el-option",{attrs:{value:"4",label:"提货中"}}),a("el-option",{attrs:{value:"5",label:"发车中"}}),a("el-option",{attrs:{value:"6",label:"已到达"}}),a("el-option",{attrs:{value:"7",label:"卸货中"}}),a("el-option",{attrs:{value:"8",label:"已签收"}}),a("el-option",{attrs:{value:"9",label:"已作废"}})],1),a("el-select",{attrs:{size:"small mr5"},model:{value:t.conditions_value,callback:function(e){t.conditions_value=e},expression:"conditions_value"}},[a("el-option",{attrs:{value:1,label:"车牌号"}}),a("el-option",{attrs:{value:2,label:"运单编号"}}),a("el-option",{attrs:{value:3,label:"托运人"}}),a("el-option",{attrs:{value:4,label:"客户订单号"}}),a("el-option",{attrs:{value:5,label:"收货方名称"}}),a("el-option",{attrs:{value:6,label:"货物名称"}}),a("el-option",{attrs:{value:7,label:"业务管理公司"}}),a("el-option",{attrs:{value:8,label:"司机手机号"}})],1),a("el-input",{staticClass:"search mr5",attrs:{placeholder:"输入查询条件",clearable:""},model:{value:t.numberData,callback:function(e){t.numberData=e},expression:"numberData"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.query}},[t._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:t.isShow}},[t._v("更多查询")]),a("el-button",{attrs:{type:"danger"},on:{click:t.empty}},[t._v("清空")])],1),a("transition",{attrs:{name:"search"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"flex transposition justify-end align-center"},[a("el-select",{attrs:{size:"small mr10",placeholder:"支付状态"},model:{value:t.paymentState,callback:function(e){t.paymentState=e},expression:"paymentState"}},[a("el-option",{attrs:{value:"0",label:"未付款"}}),a("el-option",{attrs:{value:"1",label:"部分付款"}}),a("el-option",{attrs:{value:"2",label:"已结清"}})],1),a("el-select",{attrs:{size:"small mr10",placeholder:"运单审核状态",clearable:""},model:{value:t.checkState,callback:function(e){t.checkState=e},expression:"checkState"}},[a("el-option",{attrs:{value:"0",label:"待审核"}}),a("el-option",{attrs:{value:"1",label:"审核中"}}),a("el-option",{attrs:{value:"2",label:"审核通过"}}),a("el-option",{attrs:{value:"3",label:"审核不通过"}})],1),a("el-select",{attrs:{size:"small mr10",placeholder:"开票状态",clearable:""},model:{value:t.invoiceStatus,callback:function(e){t.invoiceStatus=e},expression:"invoiceStatus"}},[a("el-option",{attrs:{value:"0",label:"未开"}}),a("el-option",{attrs:{value:"1",label:"已开"}})],1),a("el-input",{staticClass:"search mr5",attrs:{placeholder:"发票申请单号",clearable:""},model:{value:t.applyCode,callback:function(e){t.applyCode=e},expression:"applyCode"}}),a("el-select",{attrs:{size:"small mr10",placeholder:"承运人电子合同状态",clearable:""},model:{value:t.driverContractState,callback:function(e){t.driverContractState=e},expression:"driverContractState"}},[a("el-option",{attrs:{value:"0",label:"未签署"}}),a("el-option",{attrs:{value:"1",label:"签署成功"}}),a("el-option",{attrs:{value:"2",label:"签署失败"}})],1),a("el-select",{attrs:{size:"small mr10",placeholder:"托运人电子合同状态",clearable:""},model:{value:t.clientContractState,callback:function(e){t.clientContractState=e},expression:"clientContractState"}},[a("el-option",{attrs:{value:"0",label:"未签署"}}),a("el-option",{attrs:{value:"1",label:"签署成功"}}),a("el-option",{attrs:{value:"2",label:"签署失败"}})],1)],1),a("div",{staticClass:"mb20"},[a("el-button",{attrs:{type:"warning"},on:{click:t.exportCarriage}},[t._v("导出")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),a("el-table-column",{attrs:{prop:"carriageId",label:"运单号",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#67c23a",cursor:"pointer"},on:{click:function(a){return t.details(e.row)}}},[t._v(t._s(e.row.carriageId))])]}}])}),a("el-table-column",{attrs:{prop:"ifInvoice",label:"是否开票"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.ifInvoice?a("span",[t._v("不开")]):1==e.row.ifInvoice?a("span",[t._v("开")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"transportType",label:"运输方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.transportType?a("span",[t._v("陆运")]):1==e.row.transportType?a("span",[t._v("水运")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"carriageState",label:"运单状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.carriageState?a("span",[t._v("草稿")]):1==e.row.carriageState?a("span",[t._v("已提交")]):2==e.row.carriageState?a("span",[t._v("已分配承运人")]):3==e.row.carriageState?a("span",[t._v("已接单")]):4==e.row.carriageState?a("span",[t._v("提货中")]):5==e.row.carriageState?a("span",[t._v("发车中")]):6==e.row.carriageState?a("span",[t._v("已到达")]):7==e.row.carriageState?a("span",[t._v("卸货中")]):8==e.row.carriageState?a("span",[t._v("已签收")]):9==e.row.carriageState?a("span",[t._v("已作废")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"invoiceStatus",label:"开票状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.invoiceStatus?a("span",[t._v("未开")]):1==e.row.invoiceStatus?a("span",[t._v("已开")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"checkState",label:"审核状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.checkState?a("span",[t._v("待审核")]):1==e.row.checkState?a("span",[t._v("审核中")]):2==e.row.checkState?a("span",[t._v("审核通过")]):3==e.row.checkState?a("span",[t._v("审核不通过")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"shipperUserId",label:"托运人",width:"120"}}),a("el-table-column",{attrs:{prop:"relevanceCode",label:"订单号",width:"200"}}),a("el-table-column",{attrs:{prop:"goodsName",label:"货物名称"}}),a("el-table-column",{attrs:{prop:"deliverContactsProvince",label:"装货地点",width:"200"}}),a("el-table-column",{attrs:{prop:"takeContactsProvince",label:"卸货地点",width:"200"}}),a("el-table-column",{attrs:{prop:"takeContacts",label:"收货人"}}),a("el-table-column",{attrs:{prop:"payeeName",label:"收款人",width:"120"}}),a("el-table-column",{attrs:{prop:"payeeName",label:"司机"}}),a("el-table-column",{attrs:{prop:"vehicleNumber",label:"车船号"}}),a("el-table-column",{attrs:{prop:"planPickTime",label:"计划装货时间",width:"230"}}),a("el-table-column",{attrs:{prop:"arriveTime",label:"实际提货时间",width:"150"}}),a("el-table-column",{attrs:{prop:"planArrivalTime",label:"计划到货时间",width:"180"}}),a("el-table-column",{attrs:{prop:"demountTime",label:"实际到货时间"}}),a("el-table-column",{attrs:{prop:"settleWeight",label:"计价单位"}}),a("el-table-column",{attrs:{prop:"planWeight",label:"计划装货量"}}),a("el-table-column",{attrs:{prop:"realityInstallNumber",label:"实发装货量"}}),a("el-table-column",{attrs:{prop:"realityArriveNumber",label:"实收量",width:"120"}}),a("el-table-column",{attrs:{prop:"unitPrice",label:"单价"}}),a("el-table-column",{attrs:{prop:"sjPaymentAmount",label:"司机运费"}}),a("el-table-column",{attrs:{prop:"freightSum",label:"含税运费"}}),a("el-table-column",{attrs:{prop:"alreadyPaidYf",label:"已支付运费"}}),a("el-table-column",{attrs:{prop:"paymentState",label:"支付状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.paymentState?a("span",[t._v("未结清")]):1==e.row.paymentState?a("span",[t._v("已结清")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"answerStatus",label:"回单状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.answerStatus?a("span",[t._v("未回收")]):2==e.row.answerStatus?a("span",[t._v("已回收")]):3==e.row.answerStatus?a("span",[t._v("已发放")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"remake",label:"备注说明"}}),a("el-table-column",{attrs:{prop:"adminCompany",label:"业务管理公司"}}),a("el-table-column",{attrs:{prop:"clientContractId",label:"托运人合同号"}}),a("el-table-column",{attrs:{prop:"clientContract",label:"托运人合同"}}),a("el-table-column",{attrs:{prop:"clientContractState",label:"托运人合同状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.clientContractState?a("span",[t._v("未签署")]):1==e.row.clientContractState?a("span",[t._v("签署成功")]):2==e.row.clientContractState?a("span",[t._v("签署失败")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"driverContractId",label:"承运人合同号",width:"120"}}),a("el-table-column",{attrs:{prop:"driverContract",label:"承运人合同",width:"120"}}),a("el-table-column",{attrs:{prop:"driverContractState",label:"承运人合同状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.driverContractState?a("span",[t._v("未签署")]):1==e.row.driverContractState?a("span",[t._v("签署成功")]):2==e.row.driverContractState?a("span",[t._v("签署失败")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"createBy",label:"创建人"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{label:"操作",fixed:"right",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"operate mr10",staticStyle:{color:"#409eff"},on:{click:function(a){return t.goEdit(e.row)}}},[t._v("编辑")]),a("span",{staticClass:"operate mr10",staticStyle:{color:"#f56c6c"},on:{click:function(a){return t.waybillInvalid(e.row)}}},[t._v("作废")])]}}])})],1),a("div",{staticClass:"paging_css"},[a("Pagination",{attrs:{total:t.total,page:t.pageNum,limit:t.pageSize},on:{pagination:t.pagination}})],1)],1)},l=[],n=(a("a9e3"),a("d20e")),i=a("333d"),o=(a("d48e"),{components:{Pagination:i["a"]},data:function(){return{tableData:[],show:!1,pageSize:10,pageNum:1,total:0,conditions_value:1,conditions_data:"vehicleNumber",numberData:"",time_value:1,time_dataA:"planPickTimeStartTime",time_dataB:"planPickTimeEndTime",startTime:"",endTime:"",carriageState:"",paymentState:"",checkState:"",invoiceStatus:"",applyCode:"",driverContractState:"",clientContractState:""}},watch:{conditions_value:function(t){switch(Number(t)){case 1:this.conditions_data="vehicleNumber";break;case 2:this.conditions_data="carriageId";break;case 3:this.conditions_data="shipperFullName";break;case 4:this.conditions_data="relevanceCode";break;case 5:this.conditions_data="takeContacts";break;case 6:this.conditions_data="goodsName";break;case 7:this.conditions_data="companyName";break;case 8:this.conditions_data="idCardPhone";break}},time_value:function(t){switch(Number(t)){case 1:this.time_dataA="planPickTimeStartTime",this.time_dataB="planPickTimeEndTime";break;case 2:this.time_dataA="arriveTimeStartTime",this.time_dataB="arriveTimeEndTime";break;case 3:this.time_dataA="planArrivalTimeStartTime",this.time_dataB="planPickTimeEndTime";break;case 4:this.time_dataA="demountTimeStartTime",this.time_dataB="demountTimeEndTime";break;case 5:this.time_dataA="createTimeStartTime",this.time_dataB="createTimeEndTime";break;case 6:this.time_dataA="signForTimeStartTime",this.time_dataB="signForTimeEndTime";break}}},mounted:function(){this.getList()},methods:{exportCarriage:function(){var t=this;Object(n["c"])({}).then((function(e){t.downloadData(e)}))},waybillInvalid:function(t){var e=this;this.$confirm("确定将该条数据作废吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(n["o"])({carriageId:t.carriageId}).then((function(t){200==t.code&&(e.$message({message:"作废成功",type:"success",duration:3e3}),e.getList())}))}))},isShow:function(){this.show=!this.show},goEdit:function(t){this.$router.push({path:"/transport/waybill/edit"}),this.$store.commit("waybill/carriageIdGet",{value:t.carriageId})},details:function(t){this.$router.push({path:"/transport/waybill/details"}),this.$store.commit("waybill/carriageIdGet",{value:t.carriageId})},getList:function(){var t=this,e={carriageState:this.carriageState,paymentState:this.paymentState,checkState:this.checkState,invoiceStatus:this.invoiceStatus,applyCode:this.applyCode,driverContractState:this.driverContractState,clientContractState:this.clientContractState};e[this.conditions_data]=this.numberData,e[this.time_dataA]=this.startTime,e[this.time_dataB]=this.endTime,Object(n["d"])(e,{pageSize:this.pageSize,pageNum:this.pageNum}).then((function(e){200==e.code&&(t.tableData=e.rows,t.total=e.total)}))},empty:function(){this.carriageState="",this.paymentState="",this.checkState="",this.invoiceStatus="",this.applyCode="",this.driverContractState="",this.clientContractState="",this.numberData="",this.startTime="",this.endTime="",this.pageSize=10,this.pageNum=1,this.getList()},query:function(){this.pageNum=1,this.getList()},pagination:function(t){this.pageSize=t.limit,this.pageNum=t.page,this.getList()}}}),s=o,c=(a("bf71"),a("2877")),u=Object(c["a"])(s,r,l,!1,null,"ab781472",null);e["default"]=u.exports},"7f82":function(t,e,a){},bf71:function(t,e,a){"use strict";a("7f82")},d20e:function(t,e,a){"use strict";a.d(e,"d",(function(){return l})),a.d(e,"m",(function(){return n})),a.d(e,"n",(function(){return i})),a.d(e,"e",(function(){return o})),a.d(e,"g",(function(){return s})),a.d(e,"h",(function(){return c})),a.d(e,"j",(function(){return u})),a.d(e,"i",(function(){return p})),a.d(e,"k",(function(){return d})),a.d(e,"a",(function(){return m})),a.d(e,"o",(function(){return b})),a.d(e,"b",(function(){return v})),a.d(e,"l",(function(){return h})),a.d(e,"c",(function(){return f})),a.d(e,"f",(function(){return S}));var r=a("b775");function l(t,e){return Object(r["a"])({url:"/operation/carriageManage/queryCarriageInfos",method:"post",data:t,params:e})}function n(t){return Object(r["a"])({url:"/operation/carriageManage/updateTransport",method:"post",data:t})}function i(t){return Object(r["a"])({url:"/operation/carriageManage/vehiclePositioning",method:"post",data:t})}function o(t,e){return Object(r["a"])({url:"/operation/carriageAudit/queryCarriageAttachment",method:"post",data:t,params:e})}function s(t){return Object(r["a"])({url:"/operation/carriageAudit/queryCarriageSettlementInfo",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/operation/carriageAudit/queryDeiver",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/operation/carriageAudit/queryVehicle",method:"post",data:t})}function p(t){return Object(r["a"])({url:"/operation/carriageAudit/querySecondPayment",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/operation/carriageAudit/saveCarriageAttachment",method:"post",data:t})}function m(t){return Object(r["a"])({url:"/operation/carriageAudit/deleteCarriageAttachment",method:"post",data:t})}function b(t){return Object(r["a"])({url:"/operation/carriageManage/waybillInvalid",method:"post",data:t})}function v(t){return Object(r["a"])({url:"/operation/carriageManage/depart",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/operation/carriageManage/unload",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/operation/carriageManage/exportCarriage",method:"post",responseType:"blob",data:t})}function S(t){return Object(r["a"])({url:"/operation/carriageAudit/queryCarriageSettlement",method:"post",data:t})}},d48e:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var r=a("5c96");function l(t){var e=/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/;return!!e.test(t)||(Object(r["Message"])({message:"手机号不正确",type:"warning",duration:3e3}),!1)}}}]);